import{l as m,m as p,D as g,n as A,P as w}from"./index.js";import{s as y}from"./antd.js";function v({mutationKey:i,queryKeyToInvalidate:u,getSuccessMessage:c,getErrorMessage:l,onMutateCallback:s,onSettledCallback:r,routes:a}){const C=m();return p({mutationKey:i,mutationFn:async e=>{try{return await g(a,e)}catch(o){console.log(o)}},onMutate:s,onSettled:async(e,o,n,f)=>{if(console.log("data",e,"error",o,"variables",n,"context",f),(e==null?void 0:e.statusCode)===200)y.success(c(n)),await C.invalidateQueries({queryKey:u,exact:!1});else if(o)return console.log(o),y.error(l(o)),o;r(e,o,n,f)},onError:e=>(console.log(e),y.error(l(e)),e)})}function D({mutationKey:i,queryKeyToInvalidate:u,onMutateCallback:c,onSettledCallback:l,routes:s,isUpdate:r}){const a=m();return p({mutationKey:i,mutationFn:async t=>{try{return r?(console.log("data",t),console.log("routes",s),await A(s,t)):(console.log("data",t),console.log("routes",s),await w(s,t))}catch(e){console.log(e)}},onMutate:c,onSettled:async(t,e,o,n)=>{console.log("data",t,"error",e,"variables",o,"context",n),(t==null?void 0:t.statusCode)===200&&await a.invalidateQueries({queryKey:u,exact:!1}),l(t,e,o,n)}})}export{v as D,D as S};
